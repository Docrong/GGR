package com.boco.eoms.sheet.mofficedata.dao.hibernate;
import com.boco.eoms.sheet.base.dao.hibernate.LinkDAO;
import com.boco.eoms.sheet.mofficedata.dao.IMofficeDataLinkDAO;
/**
 * <p>
 * Title:局数据工单流程
 * </p>
 * <p>
 * Description:局数据工单流程
 * </p>
 * <p>
 * Tue Mar 22 09:31:29 CST 2016
 * </p>
 * 
 * @author weichao
 * @version 3.5
 * 
 */
 
 public class MofficeDataLinkDAOHibernate extends LinkDAO implements IMofficeDataLinkDAO {
 
 		public Integer getLinksBySql(final String queryCountStr)
			throws HibernateException {
		HibernateCallback callback = new HibernateCallback() {
			public Object doInHibernate(Session session) throws HibernateException {
				List baseLinks;
				try {
					Query totalQuery = session.createSQLQuery(queryCountStr);
					if (!totalQuery.list().isEmpty()) {
						baseLinks = totalQuery.list();
					} else {
						totalCount = null;
					}
				} catch (Exception e) {
					System.out.println("-------task list error!---------");
					e.printStackTrace();
					throw new HibernateException("task list error");
				}
				return baseLinks;
			}
		};
		return (Integer) getHibernateTemplate().execute(callback);
	}
 }